---
phase: 02-architecture
plan: 03
type: execute
wave: 1
depends_on: []
files_modified: ["src/components/ThreeDCanvas.tsx", "src/components/ArchitecturalControls.tsx"]
autonomous: true

must_haves:
  truths:
    - "3D canvas renders with orbital controls and construction grid"
    - "Grid supports mm-scale construction units with visual guides"
    - "Camera controls allow architectural viewing perspectives"
  artifacts:
    - path: "src/components/ThreeDCanvas.tsx"
      provides: "Complete 3D canvas with orbit/pan/zoom controls"
      min_lines: 80
    - path: "src/components/ArchitecturalControls.tsx"
      provides: "Architectural camera presets and grid settings"
      exports: ["ArchitecturalControls"]
  key_links:
    - from: "ThreeDCanvas.tsx"
      to: "OrbitControls"
      via: "enablePan/zoom/rotate props"
      pattern: "OrbitControls.*enable"
    - from: "ThreeDCanvas.tsx"
      to: "Grid"
      via: "cellSize and sectionSize props"
      pattern: "cellSize.*sectionSize"
---

<objective>
Establish basic 3D canvas with architectural viewing controls and construction-ready grid system

Purpose: Provide foundation viewport for 3D design that architects can navigate and understand building scales
Output: Working 3D canvas component ready for component integration
</objective>

<execution_context>
@.planning/phases/02-architecture/02-architecture-REACT-THREE-FIBER-RESEARCH.md
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</execution_context>

<context>
@src/components/ThreeDCanvas.tsx
</context>

<tasks>

<task type="auto">
  <name>Enhance ThreeDCanvas with architectural grid and controls</name>
  <files>src/components/ThreeDCanvas.tsx</files>
  <action>Update Grid component with construction unit sizing (600mm cells for standard tiles, 1200mm sections for modules), add axis helpers for orientation, improve camera position to [5,5,5] for better initial view, add tooltips showing current camera position in HTML overlay near top-right corner of canvas</action>
  <verify>Canvas renders without errors, grid shows major lines every 1.2m and minor lines every 0.6m, OrbitControls allow pan/zoom/rotate with limits working</verify>
  <done>3D canvas displays construction grid with appropriate scales and full orbital navigation controls</done>
</task>

<task type="auto">
  <name>Create ArchitecturalControls component for presets</name>
  <files>src/components/ArchitecturalControls.tsx</files>
  <action>Create new component providing buttons for preset camera views (overhead, isometric, front, side, detail), add grid toggle button to show/hide the construction grid, include zoom-to-fit button that centers camera on any loaded models, implement as HTML overlay positioned outside canvas area</action>
  <verify>Presets correctly position camera for standard architectural views, buttons trigger smooth transitions using OrbitControls methods</verify>
  <done>Architectural control panel offers viewpoint presets and grid visibility toggle outside the 3D canvas</done>
</task>

</tasks>

<verification>
Run Canvas component in browser, verify orbital controls (drag to rotate, scroll to zoom, right-drag to pan), grid displays proper construction scales, control panel buttons change camera views smoothly
</verification>

<success_criteria>
3D canvas component successfully renders with functional orbital controls, construction-scaled grid, and architectural viewpoint presets providing ready foundation for 3D design interface
</success_criteria>

<output>
After completion, create .planning/phases/02-architecture/02-03-SUMMARY.md
</output></content>
<parameter name="filePath">.planning/phases/02-architecture/02-03-PLAN.md