---
phase: 02-architecture-3d-foundation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified: ["src/components/ui/Button.tsx", "src/components/ui/ToolPanel.tsx", "src/components/3D/Canvas.tsx", "src/hooks/use3DState.tsx"]
autonomous: true
must_haves:
  truths:
    - "User can see an Add Cube button in the interface"
    - "Clicking Add Cube causes a 3D cube to appear in the viewport"
    - "Button provides visual feedback (hover/hover states)"
    - "UI state connects to 3D manipulation (add/remove moves)"
  artifacts:
    - path: "src/components/ui/Button.tsx"
      provides: "Reusable UI button component"
      min_lines: 50
    - path: "src/components/ui/ToolPanel.tsx"
      provides: "Tool interface for 3D actions"
      exports: ["ToolPanel", "useToolState"]
    - path: "src/components/3D/Canvas.tsx"
      provides: "3D scene management"
      contains: "addMesh"
    - path: "src/hooks/use3DState.tsx"
      provides: "Global 3D state management"
      exports: ["use3DState"]
  key_links:
    - from: "src/components/ui/ToolPanel.tsx"
      to: "src/components/3D/Canvas.tsx"
      via: "props callback"
      pattern: "onAddShape.*addMesh"
    - from: "src/hooks/use3DState.tsx"
      to: "src/components/3D/Canvas.tsx"
      via: "useEffect dependency"
      pattern: "use3DState.*canvasUpdate"
---

<objective>
Build basic UI component library with working connections to 3D viewport.

Purpose: Frontend has ZERO buttons/state management - rebuild entire UI layer starting with buttons connected to 3D actions.
Output: Working Add Cube button that instantiates 3D shapes with state management.
</objective>

<execution_context>
@/home/tomas/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/tomas/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md

# Phase 2 builds on Phase 1 completion
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
@.planning/phases/01-foundation/01-03-SUMMARY.md
@.planning/phases/01-foundation/01-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create reusable Button component</name>
  <files>src/components/ui/Button.tsx</files>
  <action>Create Button component with hover/press states, disabled state, onClick handler using React + Tailwind for styling. Export default Button component with proper TypeScript types.</action>
  <verify>`npm test` passes for Button component</verify>
  <done>Button.tsx renders with hover effect, click handler fires console.log</done>
</task>

<task type="auto">
  <name>Task 2: Build ToolPanel with 3D action buttons</name>
  <files>src/components/ui/ToolPanel.tsx</files>
  <action>Create ToolPanel component with "Add Cube", "Rotate", "Delete" buttons. Implement button click handlers that call onAction callback with action type and parameters.</action>
  <verify>ToolPanel renders Add Cube button, click triggers onAction with 'add_cube'</verify>
  <done>ToolPanel emits correct action events on button clicks</done>
</task>

<task type="auto">
  <name>Task 3: Wire UI actions to 3D Canvas state</name>
  <files>src/hooks/use3DState.tsx, src/components/3D/Canvas.tsx</files>
  <action>Extend Canvas to accept onAction prop, create use3DState hook for managing shapes array. Connect ToolPanel to Canvas via shared state, implement add_cube action that adds THREE.BoxGeometry mesh.</action>
  <verify>Import ToolPanel + Canvas, click Add Cube button â†’ new cube appears in 3D scene</verify>
  <done>Cube mesh instantiates and renders in Three.js viewport</done>
</task>

</tasks>

<verification>
Run React app, import ToolPanel+Canvas, verify Add Cube button creates 3D cube
</verification>

<success_criteria>
Basic UI-3D wiring working: Button clicks trigger 3D mesh instantiation with state management.
</success_criteria>

<output>
After completion, create `.planning/phases/02-architecture-3d-foundation/02-03-SUMMARY.md`</output></content>
<parameter name="filePath">.planning/phases/02-architecture-3d-foundation/02-03-PLAN.md